#################### path ####################
PATH=$PATH:~/Downloads/mips-mti-elf/bin:~/.cache/wudao-dict/wudao-dict/bin:~/.local/bin:~/.joplin
export PATH="$HOME/.cargo/bin:$PATH"

# To make ranger default editor = nvim
VISUAL=nvim;export VISUAL EDITOR=nvim; export EDITOR

# rust tuna
export RUSTUP_DIST_SERVER=https://mirrors.tuna.tsinghua.edu.cn/rustup


# >>> conda initialize >>>
# !! Contents within this block are managed by 'conda init' !!
__conda_setup="$('/home/qiqiang/miniconda3/bin/conda' 'shell.bash' 'hook' 2> /dev/null)"
if [ $? -eq 0 ]; then
    eval "$__conda_setup"
else
    if [ -f "/home/qiqiang/miniconda3/etc/profile.d/conda.sh" ]; then
        . "/home/qiqiang/miniconda3/etc/profile.d/conda.sh"
    else
        export PATH="/home/qiqiang/miniconda3/bin:$PATH"
    fi
fi
unset __conda_setup
# <<< conda initialize <<<




#################### alias ####################
alias update="sudo apt update && sudo apt upgrade -y"
alias py='python3'
alias ipy='ipython3'
alias xdg="xdg-open"
alias za="zathura"
alias ra="ranger"
alias l="ls -alh"
alias ls="ls --color"
alias la='ls -A'
alias ll='ls -alF'
# ls -> exa
# alias l="exa -lah"
# alias ls=exa
# alias ll="exa -l"
# alias lt="exa -T"

alias ca="conda activate py36"
alias nv="nvim"
alias v="vim"
# alias -g "kbl"="/bin/bash /usr/local/share/kbd_backlight"
alias ta="tmux attach-session"
alias tl="tmux list-session"
alias t="tmux"
alias ft="sh ~/Documents/sh/tmux.sh"
alias wd="wd -s"
alias dockerarch="c973e63acf1c"
alias sudo="sudo "
alias npmtb="npm install --registry=https://registry.npm.taobao.org"
# alias tx="g++ -O3 -fopenmp qq.cpp -o run && ./run"
alias latexmk="latexmk -xelatex"
alias s="seaf-cli"
# Add an "alert" alias for long running commands.  Use like so:
#   sleep 10; alert
alias alert='notify-send --urgency=low -i "$([ $? = 0 ] && echo terminal || echo error)" "$(history|tail -n1|sed -e '\''s/^\s*[0-9]\+\s*//;s/[;&|]\s*alert$//'\'')"'
alias gg='goldendict'
alias vd='vimdiff'
alias alacritty-colorscheme='alacritty-colorscheme -C ~/.alacritty-themes'
# quickly go to workspace
alias tmp='cd ~/tmp'
alias work="cd ~/workspace"
alias leet="cd ~/.leetcode"
alias note="cd ~/note"




#################### function ####################

function op {
    sudo openvpn --config ~/.openvpn/vpn9.ovpn
}

# 通过ctrl-z 由vim 进入shell, 并通过ctrl-z 退回shell
function fancy-ctrl-z {
  if [[ $#BUFFER -eq 0 ]]; then
      BUFFER="fg"
      zle accept-line
  else
	  zle push-input
	  zle clear-screen
  fi
}
zle -N fancy-ctrl-z
bindkey '^Z' fancy-ctrl-z

function mountsharedir {
    sudo mount -t vboxsf D_DRIVE /mnt/d
    sudo mount -t vboxsf E_DRIVE /mnt/e
}

function mountdisk {
    sudo mount /dev/nvme0n1p3 /mnt/d
}

function mkcd {
    mkdir $1
    cd $1
}

function todo {
    command -v joplin 1>/dev/null 2>&1
    flag=$?
    if [ $flag = 0 ]
        then
        # joplin version
            joplin use "Todo"
            joplin mktodo $1
        else
            echo "joplin not found"
    fi
}

function mapcaps {
    setxkbmap -option caps:ctrl_modifier
    # or
    # setxkbmap -option ctrl:nocaps
}

function build {
    g++ $1.cpp -g -std=c++14 -o $1 && ./$1
}

function changenet {
    sudo sed -iE "s/192\.168\.[0-9][0-9]*\.1/192.168.$1.1/g" /etc/netplan/01-network-manager-all.yaml
    sudo netplan apply 
}

function changekbdlight {
    # echo $1 | sudo tee /sys/class/leds/asus::kbd_backlight/brightness
    # or
    sudo brightnessctl --device='asus::kbd_backlight' set $1
}


#################### auto start ####################

# conda activate py36

# # auto start tmux as soon as into terminal
# if [[ $(tty) != /dev/tty* ]] && [ $TERM != "tmux-256color" ] && [  $TERM != "screen" ]; then
#   # tmux attach || tmux new; exit
#   tmux new; exit
# fi
